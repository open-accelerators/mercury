<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Banking Corporation</title>

    <!-- PatternFly Styles -->
    <link rel="stylesheet" href="css/patternfly.min.css">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/patternfly-additions.min.css">
    <link rel="stylesheet" href="css/mystyles.css">
    <link rel="stylesheet" href="css/patternfly.css">
    <link rel="stylesheet" href="css/patternfly-additions.min.css">
    <script src="components/c3/c3.min.js"></script>
    <script src="components/d3/d3.min.js"></script>

    <!-- Bootstrap base + PatternFly extensions + Your styles -->
    <link rel="stylesheet" href="css/mystyles.css">

    <!-- JS -->

    <script src="js/patternfly.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.8.0/angular.min.js"></script>

    <script>

  var taskId;
  var app = angular.module('myApp', []);
app.controller('FormController', function($scope,$http) {

  var baseURL = window.location.protocol + '//' + window.location.host;
  $scope.eligibility = 'No';
    $scope.productAdded = '';
    $scope.checkFunctionInvoked='';
    $scope.responseMsg=null;
$scope.baseUrl="mercury-product-api-3scale-apicast-staging.apps.cluster-90e5.green.osp.opentlc.com";
$scope.headers =new Headers();
    $scope.headers.append('Content-Type', 'application/json');
  $scope.headers.append('Accept', 'application/json');

  $scope.headers.append('Access-Control-Allow-Origin', 'https://'+$scope.baseUrl);

  $scope.headers.append('Access-Control-Allow-Headers', 'X-Requested-With,content-type');
    $scope.headers.append('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE');




$scope.checkFunc = function() {

$scope.checkFunctionInvoked = 'invoked';
$http({
        url: "https://"+$scope.baseUrl+"/service/eligibility-check?user_key=24c9dd9780c91511bd0cc19a357c57c4",
        method: "POST",
        data: "{\"customerReference\":"+"CUST7897"+",\"productType\":"+$scope.productType+"}",
        headers:$scope.headers
    })
    .then(function(response) {

           $scope.responseMsg =response.data;
           if($scope.responseMsg != null) {
              $scope.eligibility = 'Yes';

           }

    });
    }


$scope.productAddedCalled='';
$scope.addOffer = function() {

$scope.productAddedCalled='yes';
$http({
        url: "https://"+$scope.baseUrl+"/service/initiateOffer?user_key=24c9dd9780c91511bd0cc19a357c57c4",
        method: "POST",
        data: "{\"customerReference\":"+"CUST7897"+",\"productType\":"+$scope.productType+"}"
    })
    .then(function(response) {

           if(response.data != null) {
              $scope.productAdded = $scope.productType + " succesfully added!";
           }

    });
    }

});

</script>


</head>
<body id = "productserviceeligibility" class="cards-pf" ng-app="myApp" ng-controller="FormController" >



<!-- PatternFly Horizontal Nav -->
<nav class="navbar navbar-default navbar-pf" role="navigation">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">
            <h2>Banking Corporation</h2>

        </a>
    </div>
    <div class="collapse navbar-collapse navbar-collapse-1">
        <ul class="nav navbar-nav navbar-utility">

            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    <span class="pficon pficon-user"></span>
                    Agent Login <b class="caret"></b>
                </a>
                <ul class="dropdown-menu">
                    <li>
                        <a href="#">Link</a>
                    </li>
                    <li>
                        <a href="#">Another link</a>
                    </li>
                    <li>
                        <a href="#">Something else here</a>
                    </li>
                    <li class="divider"></li>
                    <li class="dropdown-submenu">
                        <a tabindex="-1" href="#">More options</a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="#">Link</a>
                            </li>
                            <li>
                                <a href="#">Another link</a>
                            </li>
                            <li>
                                <a href="#">Something else here</a>
                            </li>
                            <li class="divider"></li>
                            <li class="dropdown-header">Nav header</li>
                            <li>
                                <a href="#">Separated link</a>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <a href="#">One more separated link</a>
                            </li>
                        </ul>
                    </li>
                    <li class="divider"></li>
                    <li>
                        <a href="#">One more separated link</a>
                    </li>
                </ul>
            </li>
        </ul>
        <ul class="nav navbar-nav navbar-primary">
            <li>
                <a href="#">Servicing Order > New product Application Processing</a>
            </li>

        </ul>
    </div>
</nav>


<div class="container-fluid container-cards-pf">
    <div class="container-fluid container-cards-pf">

        <div class="row row-cards-pf">
            <!-- Important:  if you need to nest additional .row within a .row.row-cards-pf, do *not* use .row-cards-pf on the nested .row  -->
            <div class="col-sm-6 col-md-3">
                <div class="card-pf card-pf-accented card-pf-aggregate-status card-pf-aggregate-status-mini">
                    <h2 class="card-pf-title">

                        <span class="card-pf-aggregate-status-count">1</span> Calls > 5 mins
                    </h2>
                    <div class="card-pf-body">
                        <p class="card-pf-aggregate-status-notifications">
                            <span class="card-pf-aggregate-status-notification"><a href="#" class="add" data-toggle="tooltip" data-placement="top" title="Add Ipsum"></a></span>
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 col-md-3">
                <div class="card-pf card-pf-accented card-pf-aggregate-status card-pf-aggregate-status-mini">
                    <h2 class="card-pf-title">

                        <a href="#">
                            <span class="card-pf-aggregate-status-count">20</span> Total Calls today
                        </a>
                    </h2>
                    <div class="card-pf-body">
                        <p class="card-pf-aggregate-status-notifications">
                            <span class="card-pf-aggregate-status-notification"></span>
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 col-md-3">
                <div class="card-pf card-pf-accented card-pf-aggregate-status card-pf-aggregate-status-mini">
                    <h2 class="card-pf-title">

                        <a href="#">
                            <span class="card-pf-aggregate-status-count">9</span> Average Call length
                        </a>
                    </h2>
                    <div class="card-pf-body">
                        <p class="card-pf-aggregate-status-notifications">
                            <span class="card-pf-aggregate-status-notification"></span>
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 col-md-3">
                <div class="card-pf card-pf-accented card-pf-aggregate-status card-pf-aggregate-status-mini">
                    <h2 class="card-pf-title">

                        <a href="#">
                            <span class="card-pf-aggregate-status-count">12</span> Calls Waiting
                        </a>
                    </h2>
                    <div class="card-pf-body">
                        <p class="card-pf-aggregate-status-notifications">
                            <a href="#"><span class="card-pf-aggregate-status-notification"></span></a>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="row row-cards-pf">
            <div class="col-xs-12 col-sm-12 col-md-5">
                <div class="card-pf">
                    <div class="card-pf-heading">
                        <table class="table table-striped table-bordered table-hover" id="table" >
                            <h2 class="card-pf-title">
                                Customer Profile
                            </h2>
                            <tr>
                                <td>Customer Name</td><td>Jennifer Smith</td></tr>
                            <tr><td>Customer Address</td><td>No.8, Raindew Avenue, NC 27502</td></tr>
                            <tr>   <td>Phone</td><td>919-000-0000</td></tr>
                            <tr>   <td>Member Since</td><td>2017</td></tr>
                            <tr>   <td>Member Status</td><td>Disaster Campaign Class - good prospect</td></tr>


                        </table>
                        <hr/>
                        <h2 class="card-pf-title">
                            Accounts
                        </h2>
                        <table class="table table-striped table-bordered table-hover" id="table1">
                            <thead>
                            <tr>
                                <th>Account #</th>
                                <th>Balance</th>



                            </tr>
                            </thead>

                            <tbody>
                            <tr><td>Checking XXXXXXXXXXXX0000</td><td>$1500.00</td>
                            <tr><td>Savings XXXXXXXXXXXX0000</td><td>$1500.00</td>
                            </tr>
                            </tbody>

                        </table>
                    </div>

                </div>
            </div>

            <div  row row-cards-pf>
                <div class="col-xs-12 col-sm-10 col-md-5">
                    <div class="container-fluid container-cards-pf">

                        <div class="col-xs-10 col-md-11">
                            <form name="testForm">
                                <div class="form-group">


                                    <div class="control-label"><strong>Customer Reference #</strong></div>
                                    <input class="col-lg-12  form-control" name="item"  type="text" readonly value="CUST7897">

                                    <hr/>

                                    <div class="control-label"><strong>Case #</strong></div>
                                    <input class="col-lg-12  form-control" name="item"  type="text" readonly value="CASE34354">

                                    <hr/>
                                    <div class="control-label"><strong>Case Type</strong></div>
                                    <input class="col-lg-12  form-control" name="item" type="text" readonly value="Disaster Recovery Management">

                                    <hr/>


                                    <div class="control-label"><strong>Product/Service</strong></div>
                                    <select class="col-lg-12 combobox form-control" ng-model="productType" >

                                        <option>e-Wallet</option>
                                        <option>3rd Party Builder Application</option>
                                        <option>Premium Card</option>

                                    </select>


                                    <hr/>

                                    <button id="check"  type="button" class="btn btn-primary" ng-click="checkFunc();">Check Eligibility</button>
                                    <br/>

                                    <div class="spinner" ng-show="checkFunctionInvoked!='' && responseMsg==null"></div>
                                </div>



                                <hr/>
                                <div class="col-md-22" ng-show="responseMsg != null">
                                    <div class="card-pf card-pf-utilization">
                                        <div class="card-pf-heading">

                                            <h2 class="card-pf-title">
                                                Eligibility
                                            </h2>
                                        </div>

                                        <div style="font-size: 10px;" ng-show="responseMsg != null">
                                            <p>Due Diligence &nbsp;&#10004;</p>
                                            <p>Credit Check &nbsp;&#x2714;</p>
                                            <p>Risk Check &nbsp;&#x2714;</p>
                                            <p>Product Eligibility &nbsp;&#x2714;</p>
                                        </div>

                                        <div class="card-pf-body">
                                            <table class="table table-striped table-bordered table-hover" id="table1" >
                                                <thead>
                                                <tr>
                                                    <th>Eligible?</th>
                                                    <th>Comments</th>
                                                    <th>Disclosure</th>
                                                    <th>Action</th>



                                                </tr>
                                                </thead>

                                                <tbody>
                                                <tr><td>{{eligibility}}</td><td>Customer is in Good standing</td>
                                                    <td><select class="col-lg-10 combobox form-control">
                                                        <option>Select</option>
                                                        <option>Informational</option>
                                                        <option>e-Signature</option>
                                                        <option>Paper Signature</option>


                                                    </select></td>
                                                    <td>  <button id="Add"  type="button" class="btn btn-primary" ng-click="addOffer();">Add Product</button></td>
                                                </tr>
                                                </tbody>

                                            </table>
                                        </div>

                                    </div>
                                </div>
                                <div class="spinner" ng-show="productAddedCalled!='' && productAdded==''"></div>

                                <div class="alert alert-success" ng-show="productAdded != ''">
                                    <strong>{{productAdded}}</strong>
                                </div>
                            </form>

                        </div>


                    </div>
                </div>
            </div>
        </div><!-- /row -->
        <!-- /row -->
    </div><!-- /container -->


</body>
</html>
