kind: ConfigMap
apiVersion: v1
metadata:
  name: customer-offer-rest-v1
  namespace: test-service-domain
  labels:
    app.kubernetes.io/managed-by: service-domain-infra-operator
data:
  directs.yaml: "# camel-k: language=yaml\n# camel-k: dependency=camel-quarkus-protobuf\n# camel-k: dependency=mvn:com.redhat.mercury:customer-offer-common:${version}\n\n- from:\n    uri: direct:Initiate\n    steps:\n      - set-body:\n          simple: \"{\\\"initiateCustomerOfferProcedureRequest\\\": ${body}}\"\n      - unmarshal:\n          protobuf:\n            instance-class: com.redhat.mercury.customeroffer.v10.api.crcustomerofferprocedureservice.CrCustomerOfferProcedureService$InitiateRequest\n            content-type-format: json\n      - to:\n          uri: grpc://{{mercury.binding.service.host}}:{{mercury.binding.service.port}}/com.redhat.mercury.customeroffer.v10.api.crcustomerofferprocedureservice.CRCustomerOfferProcedureService?synchronous=true&method=Initiate\n      - marshal:\n          protobuf:\n            instance-class: com.redhat.mercury.customeroffer.v10.InitiateCustomerOfferProcedureResponseOuterClass$InitiateCustomerOfferProcedureResponse\n            content-type-format: json\n\n- from:\n    uri: direct:Update\n    steps:\n      - set-body:\n          simple: \"{\\\"customerofferId\\\": \\\"${header.customerofferId}\\\", \\\"customerOfferProcedure\\\": ${body}}\"\n      - unmarshal:\n          protobuf:\n            instance-class: com.redhat.mercury.customeroffer.v10.api.crcustomerofferprocedureservice.CrCustomerOfferProcedureService$UpdateRequest\n            content-type-format: json\n      - to:\n          uri: grpc://{{mercury.binding.service.host}}:{{mercury.binding.service.port}}/com.redhat.mercury.customeroffer.v10.api.crcustomerofferprocedureservice.CRCustomerOfferProcedureService?synchronous=true&method=Update\n      - marshal:\n          protobuf:\n            instance-class: com.redhat.mercury.customeroffer.v10.CustomerOfferProcedureOuterClass$CustomerOfferProcedure\n            content-type-format: json\n"
