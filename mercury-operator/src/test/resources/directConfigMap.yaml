kind: ConfigMap
apiVersion: v1
metadata:
  name: customer-offer-rest-v1
  namespace: test-service-domain
  labels:
    app.kubernetes.io/managed-by: service-domain-infra-operator
data:
  directs.yaml: "# camel-k: language=yaml\r\n# camel-k: dependency=camel-quarkus-protobuf\r\n# camel-k: dependency=mvn:com.redhat.mercury:customer-offer-common:1.0.2-SNAPSHOT\r\n\r\n- from:\r\n    uri: direct:Initiate\r\n    steps:\r\n      - set-body:\r\n          simple: \"{\\\"initiateCustomerOfferProcedureRequest\\\": ${body}}\"\r\n      - unmarshal:\r\n          protobuf:\r\n            instance-class: com.redhat.mercury.customeroffer.v10.api.crcustomerofferprocedureservice.CrCustomerOfferProcedureService$InitiateRequest\r\n            content-type-format: json\r\n      - to:\r\n          uri: grpc://{{mercury.binding.service.host}}:{{mercury.binding.service.port}}/com.redhat.mercury.customeroffer.v10.api.crcustomerofferprocedureservice.CRCustomerOfferProcedureService?synchronous=true&method=Initiate\r\n      - marshal:\r\n          protobuf:\r\n            instance-class: com.redhat.mercury.customeroffer.v10.InitiateCustomerOfferProcedureResponseOuterClass$InitiateCustomerOfferProcedureResponse\r\n            content-type-format: json\r\n\r\n- from:\r\n    uri: direct:Update\r\n    steps:\r\n      - set-body:\r\n          simple: \"{\\\"customerofferId\\\": \\\"${header.customerofferId}\\\", \\\"customerOfferProcedure\\\": ${body}}\"\r\n      - unmarshal:\r\n          protobuf:\r\n            instance-class: com.redhat.mercury.customeroffer.v10.api.crcustomerofferprocedureservice.CrCustomerOfferProcedureService$UpdateRequest\r\n            content-type-format: json\r\n      - to:\r\n          uri: grpc://{{mercury.binding.service.host}}:{{mercury.binding.service.port}}/com.redhat.mercury.customeroffer.v10.api.crcustomerofferprocedureservice.CRCustomerOfferProcedureService?synchronous=true&method=Update\r\n      - marshal:\r\n          protobuf:\r\n            instance-class: com.redhat.mercury.customeroffer.v10.CustomerOfferProcedureOuterClass$CustomerOfferProcedure\r\n            content-type-format: json\r\n"
